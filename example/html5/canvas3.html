<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>canvas</title>
    <script>

        window.onload = function () {
            let oC = document.getElementById('canvas1')

            let oColor = document.getElementById('color1')

            let color = 'black'

            //获取图形上下文
            let gd = oC.getContext('2d')

            oColor.onchange = function () {
                color = this.value;
                gd.beginPath();
            }

            let lastX, lastY;

            oC.onmousedown = function (ev) {
                console.log(ev)

                lastX = ev.offsetX;
                lastY = ev.offsetY;

                oC.onmousemove = function (ev) {

                    gd.moveTo(lastX, lastY)
                    gd.lineTo(ev.offsetX, ev.offsetY)

                    lastX = ev.offsetX

                    lastY = ev.offsetY

                    gd.strokeStyle = color

                    gd.stroke();
                }

                oC.onmouseup = function () {
                    oC.onmousemove = null;
                    oC.onmouseup = null;
                }
            }

        }

    </script>
    <style>
        .canvasCss{
            width: 602px;
            height: 802px;
            border: 1px solid red;
        }
    </style>
</head>

<body>
    选择你喜欢的颜色:<input type="color" name="" id="color1">
    <br>
    <div class="canvasCss">
    <canvas id='canvas1' height="800" width="600">
            您的浏览器不支持canvas,请升级浏览器,或使用谷歌浏览器
        </canvas>
    </div>
</body>

</html>